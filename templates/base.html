<!DOCTYPE html>
<html>
<head>
    <title>Price Radar</title>
    
    <!-- Estilos principales -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!-- Bootstrap 4.5 CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Meta para vista responsive -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">

    <!-- Bloque extra en el head si se necesita (Awesomplete, etc.) -->
    {% block head_extra %}{% endblock %}
</head>
<body>
<!-- 
    Contenedor principal que engloba:
    - Sidebar (menú lateral)
    - Contenido principal 
-->
<div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="bg-dark">
        <!-- Encabezado del sidebar -->
        <div class="sidebar-heading text-white p-3">
            <i class="fas fa-chart-line mr-2"></i> Price Radar
        </div>
        
        <!-- Opciones del menú lateral -->
        <div class="list-group list-group-flush">
            <!-- Enlace de inicio -->
            <a href="/" class="list-group-item list-group-item-action bg-dark text-white">
                <i class="fas fa-home mr-2"></i> Inicio
            </a>
            <!-- Productos -->
            <a href="/products" class="list-group-item list-group-item-action bg-dark text-white">
                <i class="fas fa-box mr-2"></i> Productos
            </a>
            <!-- Tiendas -->
            <a href="/stores" class="list-group-item list-group-item-action bg-dark text-white">
                <i class="fas fa-store mr-2"></i> Tiendas
            </a>
            <!-- Precios -->
            <a href="/prices" class="list-group-item list-group-item-action bg-dark text-white">
                <i class="fas fa-tags mr-2"></i> Precios
            </a>
            <!-- Gráficos -->
            <a href="/generate_graph" class="list-group-item list-group-item-action bg-dark text-white">
                <i class="fas fa-chart-line mr-2"></i> Gráficos
            </a>
            
            <!-- Aquí puedes agregar más secciones si tu panel lo requiere -->
        </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Contenido principal -->
    <div id="page-content-wrapper">

        <!-- Navbar superior (con botón para ocultar/mostrar el sidebar) -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
            <button class="btn btn-primary" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            
            <!-- Espacio a la derecha para logout o info de usuario -->
            <div class="ml-auto d-flex align-items-center">
                <span class="mr-3">
                    {% if current_user.is_authenticated %}
                        Bienvenido, {{ current_user.username }}
                    {% endif %}
                </span>
                <!-- Botón de logout -->
                <a href="{{ url_for('logout') }}" class="btn btn-outline-danger">
                    <i class="fas fa-sign-out-alt"></i> Cerrar sesión
                </a>
            </div>
        </nav>

        <!-- Contenido dinámico (plantillas hijas) -->
        <div class="container-fluid py-4">
            {% block content %}{% endblock %}
        </div>

    </div>
    <!-- /#page-content-wrapper -->

</div>
<!-- /#wrapper -->

<!-- Scripts de Bootstrap 4.5 y Popper -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Plotly (si lo necesitas en todas las páginas, lo puedes dejar aquí) -->
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<!-- Script para togglear el sidebar -->
<script>
  $("#menu-toggle").click(function(e) {
    e.preventDefault();
    $("#wrapper").toggleClass("toggled");
  });
</script>

<!-- Bloque para inyectar scripts adicionales -->
{% block scripts %}{% endblock %}

<!-- Estilos adicionales para el sidebar -->
<style>
  /* Ajustes generales del layout */
  #wrapper {
    overflow-x: hidden;
  }
  #sidebar-wrapper {
    min-height: 100vh;
    width: 250px;
    transition: margin 0.25s ease-out;
  }
  #wrapper.toggled #sidebar-wrapper {
    margin-left: -250px;
  }
  #page-content-wrapper {
    width: 100%;
  }
</style>
</body>
</html>


