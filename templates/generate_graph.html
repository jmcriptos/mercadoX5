{% extends "base.html" %}

{% block title %}Generar Gráfico{% endblock %}

{% block content %}
<div id="react-app"></div>

<!-- Primero los scripts de React -->
<script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- Luego las otras dependencias -->
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/awesomplete@1.1.5/awesomplete.min.js"></script>

<script type="text/babel">
// Agregar console.log para debug
console.log('React scripts loaded');

// Componente de formulario simplificado para pruebas
const SimpleForm = () => {
    return (
        <div className="space-y-6 bg-white shadow rounded-lg p-6">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label className="block text-sm font-medium text-gray-700">
                        Fecha de inicio
                    </label>
                    <input
                        type="date"
                        defaultValue="2022-01-01"
                        className="mt-1 block w-full rounded-md border-gray-300 shadow-sm"
                    />
                </div>
                <div>
                    <label className="block text-sm font-medium text-gray-700">
                        Fecha de fin
                    </label>
                    <input
                        type="date"
                        defaultValue={new Date().toISOString().split('T')[0]}
                        className="mt-1 block w-full rounded-md border-gray-300 shadow-sm"
                    />
                </div>
            </div>
            
            <button
                type="submit"
                className="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md"
            >
                Generar Gráfico
            </button>
        </div>
    );
};

// Renderizar un componente simple para pruebas
ReactDOM.render(
    <SimpleForm />,
    document.getElementById('react-app')
);
</script>

<!-- Agregar un div para mensajes de error -->
<div id="error-messages" class="mt-4 text-red-600"></div>

<script>
// Script para verificar que todo está cargando
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded');
    
    // Verificar si React está disponible
    if (window.React) {
        console.log('React is available');
    } else {
        document.getElementById('error-messages').textContent = 'React no está cargado correctamente';
    }
});
</script>
{% endblock %}


























